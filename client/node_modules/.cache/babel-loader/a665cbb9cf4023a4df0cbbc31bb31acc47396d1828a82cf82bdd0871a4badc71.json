{"ast":null,"code":"import _objectSpread from\"C:/Users/Marcelo/OneDrive/Documents/Desktop/e-traffic system/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{reportsAPI}from'../../services/api';import toast,{Toaster}from'react-hot-toast';import{Download,FileText,Users,TrendingUp,Calendar,BarChart3,PieChart,Table,ArrowLeft,AlertCircle}from'lucide-react';import LoadingSpinner from'../../components/LoadingSpinner';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,PieChart as RechartsPieChart,Pie,Cell,AreaChart,Area}from'recharts';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const COLORS=['#3b82f6','#ef4444','#f59e0b','#22c55e','#8b5cf6','#ec4899','#06b6d4','#84cc16'];const ReportCard=_ref=>{let{title,description,icon:Icon,onClick,color='primary'}=_ref;// Define static background colors to avoid dynamic class compilation issues\nconst backgroundColors={primary:'linear-gradient(135deg, #BFECFF 0%, #E6F7FF 100%)',// Light blue\nsuccess:'linear-gradient(135deg, #CDC1FF 0%, #E8DFFF 100%)',// Light purple\nwarning:'linear-gradient(135deg, #FFE4B5 0%, #FFF2D6 100%)',// Light peach\ninfo:'linear-gradient(135deg, #D4EDDA 0%, #E9F7EF 100%)'// Light green\n};const iconColors={primary:'#3B82F6',// Blue\nsuccess:'#8B5CF6',// Purple\nwarning:'#F59E0B',// Orange\ninfo:'#10B981'// Green\n};return/*#__PURE__*/_jsx(\"div\",{className:\"group relative overflow-hidden bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 cursor-pointer\",onClick:onClick,style:{background:backgroundColors[color]||backgroundColors.primary},children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 p-4 rounded-2xl bg-white/20 backdrop-blur-sm group-hover:bg-white/30 transition-all duration-300 border border-white/30\",children:/*#__PURE__*/_jsx(Icon,{className:\"h-8 w-8 transition-colors duration-300\",style:{color:iconColors[color]||iconColors.primary}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-3 group-hover:text-gray-800 transition-colors duration-300\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 leading-relaxed group-hover:text-gray-800 transition-colors duration-300\",children:description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-300\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-full bg-white/30 backdrop-blur-sm\",style:{color:iconColors[color]||iconColors.primary},children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5l7 7-7 7\"})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 left-0 right-0 h-1 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left\",style:{background:iconColors[color]||iconColors.primary}})]})});};const DateRangePicker=_ref2=>{let{startDate,endDate,onStartDateChange,onEndDateChange}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate,onChange:e=>onStartDateChange(e.target.value),className:\"input\",max:endDate||undefined})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:endDate,onChange:e=>onEndDateChange(e.target.value),className:\"input\",min:startDate||undefined})]})]});};const ExportButtons=_ref3=>{let{onExport,reportType,isLoading,hasData}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onExport('json'),disabled:isLoading||!hasData,className:\"btn-secondary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4\"}),\"Export JSON\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onExport('csv'),disabled:isLoading||!hasData,className:\"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4\"}),\"Export CSV\"]})]});};const ViolationsReport=_ref4=>{var _reportData$summary,_reportData$summary2,_reportData$summary3,_reportData$summary4;let{filters,setFilters}=_ref4;const[isLoading,setIsLoading]=useState(false);const[reportData,setReportData]=useState(null);const[error,setError]=useState(null);const[lastRefresh,setLastRefresh]=useState(new Date());const generateReport=async()=>{if(!filters.startDate||!filters.endDate){setError('Please select both start and end dates');return;}setIsLoading(true);setError(null);try{const response=await reportsAPI.getViolationsReport({start_date:filters.startDate,end_date:filters.endDate});if(response.data.success){setReportData(response.data.data);setLastRefresh(new Date());}else{setError('Failed to generate report');}}catch(error){var _error$response,_error$response$data;console.error('Failed to generate report:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to generate report');}finally{setIsLoading(false);}};const exportReport=format=>{if(!reportData)return;if(format==='json'){const dataStr=JSON.stringify(reportData,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download=\"violations-report-\".concat(filters.startDate,\"-to-\").concat(filters.endDate,\".json\");link.click();URL.revokeObjectURL(url);}else if(format==='csv'){// Use server-side CSV export\nconst params=new URLSearchParams({start_date:filters.startDate,end_date:filters.endDate,format:'csv'});const url=\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000/api',\"/reports/violations?\").concat(params);const link=document.createElement('a');link.href=url;link.download=\"violations-report-\".concat(filters.startDate,\"-to-\").concat(filters.endDate,\".csv\");link.click();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Violations Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Generate detailed reports on traffic violations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center gap-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Live Data\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2022 Last updated: \",lastRefresh.toLocaleTimeString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:generateReport,disabled:isLoading,className:\"btn-secondary text-xs px-3 py-1 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})}),\"Refresh\"]}),/*#__PURE__*/_jsx(ExportButtons,{onExport:exportReport,reportType:\"violations\",isLoading:isLoading,hasData:!!reportData})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:error})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-end mb-4\",children:[/*#__PURE__*/_jsx(DateRangePicker,{startDate:filters.startDate,endDate:filters.endDate,onStartDateChange:date=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{startDate:date})),onEndDateChange:date=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{endDate:date}))}),/*#__PURE__*/_jsx(\"button\",{onClick:generateReport,disabled:isLoading,className:\"btn-primary\",children:isLoading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\"}):'Generate Report'})]}),reportData&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-blue-700 uppercase tracking-wide\",children:\"Total Violations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-900\",children:((_reportData$summary=reportData.summary)===null||_reportData$summary===void 0?void 0:_reportData$summary.total_violations)||0}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-blue-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Total recorded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-green-700 uppercase tracking-wide\",children:\"Total Fines\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-green-900\",children:[\"\\u20B1\",(((_reportData$summary2=reportData.summary)===null||_reportData$summary2===void 0?void 0:_reportData$summary2.total_fines)||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-green-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Amount issued\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\",children:\"Pending Fines\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-yellow-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-yellow-900\",children:[\"\\u20B1\",(((_reportData$summary3=reportData.summary)===null||_reportData$summary3===void 0?void 0:_reportData$summary3.pending_fines)||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-yellow-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Awaiting payment\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-purple-700 uppercase tracking-wide\",children:\"Collection Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-purple-900\",children:[((_reportData$summary4=reportData.summary)===null||_reportData$summary4===void 0?void 0:_reportData$summary4.collection_rate)||0,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-purple-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Success rate\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium\",children:\"Violations Details\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-header\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Violation #\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Violator\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Vehicle\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Fine\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Enforcer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"table-body\",children:reportData.violations.map((violation,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"table-row\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-cell font-mono text-sm\",children:violation.violation_number}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell font-medium\",children:violation.violator_name}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:violation.vehicle_plate||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\",children:violation.violation_type})}),/*#__PURE__*/_jsxs(\"td\",{className:\"table-cell font-medium\",children:[\"\\u20B1\",parseFloat(violation.fine_amount).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(violation.status==='paid'?'bg-green-100 text-green-800':violation.status==='pending'?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'),children:violation.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:violation.enforcer_name}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell text-sm text-gray-500\",children:new Date(violation.created_at).toLocaleDateString()})]},index))})]})})})]})]})]})})]});};const EnforcersReport=_ref5=>{var _reportData$summary5,_reportData$summary6,_reportData$summary7,_reportData$summary8;let{filters,setFilters}=_ref5;const[isLoading,setIsLoading]=useState(false);const[reportData,setReportData]=useState(null);const[error,setError]=useState(null);const[lastRefresh,setLastRefresh]=useState(new Date());const generateReport=async()=>{if(!filters.startDate||!filters.endDate){setError('Please select both start and end dates');return;}setIsLoading(true);setError(null);try{console.log('Generating enforcers report with filters:',filters);const response=await reportsAPI.getEnforcersReport({start_date:filters.startDate,end_date:filters.endDate});console.log('Enforcers report response:',response);if(response.data.success){setReportData(response.data.data);setLastRefresh(new Date());console.log('Enforcers report data set:',response.data.data);}else{setError('Failed to generate report');}}catch(error){var _error$response2,_error$response3,_error$response4;console.error('Failed to generate enforcers report:',error);console.error('Error response:',error.response);console.error('Error message:',error.message);if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===500){setError('Server error: Database connection or query failed');}else if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===404){setError('Report endpoint not found');}else if(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===401){setError('Authentication failed. Please login again.');}else if(error.code==='ERR_NETWORK'){setError('Network error: Cannot connect to server');}else{var _error$response5,_error$response5$data;setError(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||error.message||'Failed to generate report');}}finally{setIsLoading(false);}};const exportReport=format=>{if(!reportData)return;if(format==='json'){const dataStr=JSON.stringify(reportData,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download=\"enforcers-report-\".concat(filters.startDate,\"-to-\").concat(filters.endDate,\".json\");link.click();URL.revokeObjectURL(url);}else if(format==='csv'){const params=new URLSearchParams({start_date:filters.startDate,end_date:filters.endDate,format:'csv'});const url=\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000/api',\"/reports/enforcers?\").concat(params);const link=document.createElement('a');link.href=url;link.download=\"enforcers-report-\".concat(filters.startDate,\"-to-\").concat(filters.endDate,\".csv\");link.click();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Enforcers Performance Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Track enforcer productivity and performance metrics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center gap-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Live Data\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2022 Last updated: \",lastRefresh.toLocaleTimeString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{const response=await reportsAPI.testDatabase();console.log('Database test response:',response.data);alert(\"Database Status: \".concat(JSON.stringify(response.data.data,null,2)));}catch(error){console.error('Database test failed:',error);alert(\"Database test failed: \".concat(error.message));}},className:\"btn-secondary text-xs px-3 py-1\",children:\"Test DB\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:generateReport,disabled:isLoading,className:\"btn-secondary text-xs px-3 py-1 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})}),\"Refresh\"]}),/*#__PURE__*/_jsx(ExportButtons,{onExport:exportReport,reportType:\"enforcers\",isLoading:isLoading,hasData:!!reportData})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:error})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-end mb-4\",children:[/*#__PURE__*/_jsx(DateRangePicker,{startDate:filters.startDate,endDate:filters.endDate,onStartDateChange:date=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{startDate:date})),onEndDateChange:date=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{endDate:date}))}),/*#__PURE__*/_jsx(\"button\",{onClick:generateReport,disabled:isLoading,className:\"btn-primary\",children:isLoading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\"}):'Generate Report'})]}),reportData&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-blue-700 uppercase tracking-wide\",children:\"Total Enforcers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-900\",children:((_reportData$summary5=reportData.summary)===null||_reportData$summary5===void 0?void 0:_reportData$summary5.total_enforcers)||0}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-blue-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Active personnel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-green-700 uppercase tracking-wide\",children:\"Total Violations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-green-900\",children:((_reportData$summary6=reportData.summary)===null||_reportData$summary6===void 0?void 0:_reportData$summary6.total_violations)||0}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-green-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Total recorded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\",children:\"Total Fines\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-yellow-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-yellow-900\",children:[\"\\u20B1\",(((_reportData$summary7=reportData.summary)===null||_reportData$summary7===void 0?void 0:_reportData$summary7.total_fines)||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-yellow-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Amount issued\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-purple-700 uppercase tracking-wide\",children:\"Collection Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-purple-900\",children:[((_reportData$summary8=reportData.summary)===null||_reportData$summary8===void 0?void 0:_reportData$summary8.avg_collection_rate)||0,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-purple-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Success rate\"})]})]})]}),!reportData.enforcers||reportData.enforcers.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-12 w-12 mx-auto mb-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Enforcer Data Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:reportData.message||'No enforcers found for the selected date range, or no violations have been recorded yet.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Try selecting a different date range\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Check if there are any enforcers in the system\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Verify that violations exist for the selected period\"})]})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 text-primary-600\"}),\"Enforcer Performance Comparison\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Visual comparison of violations issued and fines collected\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-80\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:reportData.enforcers,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f1f5f9\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"full_name\",tick:{fontSize:12,fill:'#64748b'},axisLine:{stroke:'#e2e8f0'}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:12,fill:'#64748b'},axisLine:{stroke:'#e2e8f0'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e2e8f0',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"total_violations\",fill:\"#3b82f6\",name:\"Violations Issued\",radius:[4,4,0,0]}),/*#__PURE__*/_jsx(Bar,{dataKey:\"collected_fines\",fill:\"#10b981\",name:\"Fines Collected\",radius:[4,4,0,0]})]})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Table,{className:\"h-5 w-5 text-primary-600\"}),\"Detailed Performance\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Comprehensive breakdown of individual enforcer metrics\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\",children:\"Enforcer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\",children:\"Badge #\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\",children:\"Violations\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\",children:\"Total Fines\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\",children:\"Collected\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\",children:\"Collection Rate\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\",children:\"Today\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\",children:\"This Month\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-100\",children:reportData.enforcers.map((enforcer,index)=>{var _enforcer$full_name;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors duration-150\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-primary-700\",children:((_enforcer$full_name=enforcer.full_name)===null||_enforcer$full_name===void 0?void 0:_enforcer$full_name.charAt(0))||'U'})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:enforcer.full_name||'Unknown'})})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 font-mono\",children:enforcer.badge_number||'-'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium\",children:enforcer.total_violations||0}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium\",children:[\"\\u20B1\",(enforcer.total_fines||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium\",children:[\"\\u20B1\",(enforcer.collected_fines||0).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold \".concat((enforcer.collection_rate||0)>=80?'bg-green-100 text-green-800':(enforcer.collection_rate||0)>=60?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'),children:[(enforcer.collection_rate||0).toFixed(1),\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:enforcer.today_violations||0}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:enforcer.month_violations||0})]},index);})})]})})]})]})]})]})})]});};const DailySummaryReport=_ref6=>{let{filters,setFilters}=_ref6;const[isLoading,setIsLoading]=useState(false);const[reportData,setReportData]=useState(null);const[error,setError]=useState(null);const generateReport=async()=>{setIsLoading(true);setError(null);try{const response=await reportsAPI.getDailySummary({date:filters.date||new Date().toISOString().split('T')[0]});if(response.data.success){setReportData(response.data.data);}else{setError('Failed to generate report');}}catch(error){var _error$response6,_error$response6$data;console.error('Failed to generate report:',error);setError(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.error)||'Failed to generate report');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Daily Summary Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Quick overview of daily activities and key metrics\"})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:error})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-end mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filters.date||new Date().toISOString().split('T')[0],onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{date:e.target.value})),className:\"input\",max:new Date().toISOString().split('T')[0]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:generateReport,disabled:isLoading,className:\"btn-primary\",children:isLoading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\"}):'Generate Report'})]}),reportData&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-blue-700 uppercase tracking-wide\",children:\"Total Violations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-900\",children:reportData.summary.total_violations}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-blue-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Total recorded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-green-700 uppercase tracking-wide\",children:\"Total Fines\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-green-900\",children:[\"\\u20B1\",reportData.summary.total_fines.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-green-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Amount issued\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\",children:\"Active Enforcers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-yellow-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-yellow-900\",children:reportData.summary.active_enforcers}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-yellow-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"On duty today\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-purple-700 uppercase tracking-wide\",children:\"Avg per Enforcer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-purple-900\",children:reportData.summary.avg_violations_per_enforcer}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-purple-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Per person\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"h-5 w-5 text-primary-600\"}),\"Violations by Type\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Distribution of violation categories\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(RechartsPieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:reportData.violations_by_type,cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref7=>{let{violation_type,count}=_ref7;return\"\".concat(violation_type,\": \").concat(count);},outerRadius:80,fill:\"#8884d8\",dataKey:\"count\",children:reportData.violations_by_type.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{})]})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 text-primary-600\"}),\"Enforcer Activity\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Individual enforcer performance\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:reportData.violations_by_enforcer,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f1f5f9\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"full_name\",tick:{fontSize:12,fill:'#64748b'},axisLine:{stroke:'#e2e8f0'}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:12,fill:'#64748b'},axisLine:{stroke:'#e2e8f0'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e2e8f0',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"violations_count\",fill:\"#3b82f6\",name:\"Violations\",radius:[4,4,0,0]})]})})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium\",children:\"Recent Violations\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-header\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Violator\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Fine\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-header-cell\",children:\"Enforcer\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"table-body\",children:reportData.recent_violations.map((violation,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"table-row\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-cell text-sm text-gray-500\",children:new Date(violation.created_at).toLocaleTimeString()}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell font-medium\",children:violation.violator_name}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\",children:violation.violation_type})}),/*#__PURE__*/_jsxs(\"td\",{className:\"table-cell font-medium\",children:[\"\\u20B1\",parseFloat(violation.fine_amount).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:violation.enforcer_name})]},index))})]})})})]})]})]})})]});};const MonthlyReport=_ref8=>{let{filters,setFilters}=_ref8;const[isLoading,setIsLoading]=useState(false);const[reportData,setReportData]=useState(null);const[error,setError]=useState(null);const generateReport=async()=>{setIsLoading(true);setError(null);try{const response=await reportsAPI.getMonthlyReport({year:filters.year||new Date().getFullYear(),month:filters.month||new Date().getMonth()+1});if(response.data.success){setReportData(response.data.data);}else{setError('Failed to generate report');}}catch(error){var _error$response7,_error$response7$data;console.error('Failed to generate report:',error);setError(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.error)||'Failed to generate report');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:\"Monthly Analysis Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monthly trends and comparative analysis\"})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-red-400\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:error})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 items-end mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Year\"}),/*#__PURE__*/_jsx(\"select\",{value:filters.year||new Date().getFullYear(),onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{year:parseInt(e.target.value)})),className:\"input\",children:Array.from({length:5},(_,i)=>new Date().getFullYear()-i).map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Month\"}),/*#__PURE__*/_jsx(\"select\",{value:filters.month||new Date().getMonth()+1,onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{month:parseInt(e.target.value)})),className:\"input\",children:Array.from({length:12},(_,i)=>i+1).map(month=>/*#__PURE__*/_jsx(\"option\",{value:month,children:new Date(2000,month-1).toLocaleDateString('en-US',{month:'long'})},month))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:generateReport,disabled:isLoading,className:\"btn-primary\",children:isLoading?/*#__PURE__*/_jsx(LoadingSpinner,{size:\"sm\"}):'Generate Report'})]}),reportData&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-blue-700 uppercase tracking-wide\",children:\"Total Violations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-900\",children:reportData.summary.total_violations}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-blue-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Total recorded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-green-700 uppercase tracking-wide\",children:\"Total Fines\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-green-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-green-900\",children:[\"\\u20B1\",reportData.summary.total_fines.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-green-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Amount issued\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\",children:\"Paid Fines\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-yellow-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-yellow-900\",children:[\"\\u20B1\",reportData.summary.paid_fines.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-yellow-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Successfully collected\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-purple-700 uppercase tracking-wide\",children:\"Collection Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-purple-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-purple-900\",children:[reportData.summary.collection_rate,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center text-sm text-purple-600\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-1\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Success rate\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-5 w-5 text-primary-600\"}),\"Daily Violations Trend - \",reportData.month_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Daily violation patterns throughout the month\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(AreaChart,{data:reportData.daily_breakdown,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f1f5f9\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",tick:{fontSize:12,fill:'#64748b'},axisLine:{stroke:'#e2e8f0'}}),/*#__PURE__*/_jsx(YAxis,{tick:{fontSize:12,fill:'#64748b'},axisLine:{stroke:'#e2e8f0'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e2e8f0',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'}}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"violations_count\",stroke:\"#3b82f6\",fill:\"#3b82f6\",fillOpacity:0.3})]})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"h-5 w-5 text-primary-600\"}),\"Violations by Status\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Payment status distribution\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-64\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(RechartsPieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:reportData.violations_by_status,cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref9=>{let{status,count}=_ref9;return\"\".concat(status,\": \").concat(count);},outerRadius:80,fill:\"#8884d8\",dataKey:\"count\",children:reportData.violations_by_status.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{})]})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-gray-900 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Table,{className:\"h-5 w-5 text-primary-600\"}),\"Monthly Summary\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Key performance indicators\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border border-blue-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-blue-700 uppercase tracking-wide\",children:\"Average Daily Violations\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-blue-900\",children:reportData.summary.avg_daily_violations})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border border-green-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-green-700 uppercase tracking-wide\",children:\"Days with Violations\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-green-900\",children:reportData.daily_breakdown.filter(d=>d.violations_count>0).length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border border-purple-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-purple-700 uppercase tracking-wide\",children:\"Peak Day\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-purple-900\",children:reportData.daily_breakdown.reduce((max,day)=>day.violations_count>max.violations_count?day:max,{violations_count:0}).date})]})]})})]})]})]})]})})]});};const Reports=()=>{var _reportTypes$find,_reportTypes$find2;const[activeReport,setActiveReport]=useState(null);const[filters,setFilters]=useState({startDate:'',endDate:'',date:new Date().toISOString().split('T')[0],year:new Date().getFullYear(),month:new Date().getMonth()+1});const[lastUpdate,setLastUpdate]=useState(new Date());const[isAutoRefresh,setIsAutoRefresh]=useState(true);const reportTypes=[{id:'violations',title:'Violations Report',description:'Comprehensive analysis of traffic violations with trends and statistics',icon:FileText,color:'primary'},{id:'enforcers',title:'Enforcers Performance',description:'Track enforcer productivity and performance metrics',icon:Users,color:'success'},{id:'daily-summary',title:'Daily Summary',description:'Quick overview of daily activities and key metrics',icon:Calendar,color:'warning'},{id:'monthly',title:'Monthly Analysis',description:'Monthly trends and comparative analysis',icon:TrendingUp,color:'info'}];const handleReportSelect=reportType=>{setActiveReport(reportType);// Set default date range to last 30 days for date-based reports\nif(reportType==='violations'||reportType==='enforcers'){const endDate=new Date().toISOString().split('T')[0];const startDate=new Date(Date.now()-30*24*60*60*1000).toISOString().split('T')[0];setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{startDate,endDate}));}};// Auto-refresh function\nconst refreshData=useCallback(()=>{setLastUpdate(new Date());toast.success('Data refreshed successfully!',{duration:2000});// Force re-render of active report\nif(activeReport){// This will trigger the report components to refresh their data\nconst currentReport=activeReport;setActiveReport(null);setTimeout(()=>setActiveReport(currentReport),100);}},[activeReport]);// Auto-refresh effect\nuseEffect(()=>{if(!isAutoRefresh)return;const interval=setInterval(()=>{refreshData();// Check for new violations and show notification\ntoast.success(' Auto-refreshing data...',{duration:1500});},30000);// Refresh every 30 seconds\nreturn()=>clearInterval(interval);},[isAutoRefresh,refreshData]);const renderActiveReport=()=>{switch(activeReport){case'violations':return/*#__PURE__*/_jsx(ViolationsReport,{filters:filters,setFilters:setFilters});case'enforcers':return/*#__PURE__*/_jsx(EnforcersReport,{filters:filters,setFilters:setFilters});case'daily-summary':return/*#__PURE__*/_jsx(DailySummaryReport,{filters:filters,setFilters:setFilters});case'monthly':return/*#__PURE__*/_jsx(MonthlyReport,{filters:filters,setFilters:setFilters});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-primary-50 to-blue-50 rounded-2xl p-8 border border-primary-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-3\",children:\"Reports & Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600 leading-relaxed\",children:\"Generate comprehensive reports and analyze system performance with detailed insights and visualizations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-primary-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-primary-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Real-time data updates\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"\\u2022 Last updated: \",lastUpdate.toLocaleTimeString()]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-green-600\",children:[\"\\u2022 Auto-refresh: \",isAutoRefresh?'ON':'OFF']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:refreshData,className:\"btn-secondary text-sm px-3 py-1 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})}),\"Refresh Now\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isAutoRefresh,onChange:e=>setIsAutoRefresh(e.target.checked),className:\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"}),\"Auto-refresh\"]})]})]})]})}),!activeReport?/*#__PURE__*//* Report Selection Grid */_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800 mb-2\",children:\"Choose Your Report Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Select from our comprehensive suite of analytical reports\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:reportTypes.map(report=>/*#__PURE__*/_jsx(ReportCard,{title:report.title,description:report.description,icon:report.icon,color:report.color,onClick:()=>handleReportSelect(report.id)},report.id))})]}):/*#__PURE__*//* Active Report View */_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-white rounded-xl p-6 shadow-sm border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveReport(null),className:\"btn-secondary flex items-center gap-2 hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4\"}),\"Back to Reports\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-6 w-px bg-gray-200\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:(_reportTypes$find=reportTypes.find(r=>r.id===activeReport))===null||_reportTypes$find===void 0?void 0:_reportTypes$find.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:(_reportTypes$find2=reportTypes.find(r=>r.id===activeReport))===null||_reportTypes$find2===void 0?void 0:_reportTypes$find2.description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Live Data\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs\",children:[\"\\u2022 Updated: \",lastUpdate.toLocaleTimeString()]})]})]}),renderActiveReport()]})]});};export default Reports;","map":{"version":3,"names":["React","useState","useEffect","useCallback","reportsAPI","toast","Toaster","Download","FileText","Users","TrendingUp","Calendar","BarChart3","PieChart","Table","ArrowLeft","AlertCircle","LoadingSpinner","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","RechartsPieChart","Pie","Cell","AreaChart","Area","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","COLORS","ReportCard","_ref","title","description","icon","Icon","onClick","color","backgroundColors","primary","success","warning","info","iconColors","className","style","background","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","DateRangePicker","_ref2","startDate","endDate","onStartDateChange","onEndDateChange","type","value","onChange","e","target","max","undefined","min","ExportButtons","_ref3","onExport","reportType","isLoading","hasData","disabled","ViolationsReport","_ref4","_reportData$summary","_reportData$summary2","_reportData$summary3","_reportData$summary4","filters","setFilters","setIsLoading","reportData","setReportData","error","setError","lastRefresh","setLastRefresh","Date","generateReport","response","getViolationsReport","start_date","end_date","data","_error$response","_error$response$data","console","exportReport","format","dataStr","JSON","stringify","dataBlob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","concat","click","revokeObjectURL","params","URLSearchParams","process","env","REACT_APP_API_URL","toLocaleTimeString","date","prev","_objectSpread","size","summary","total_violations","total_fines","toFixed","pending_fines","collection_rate","violations","map","violation","index","violation_number","violator_name","vehicle_plate","violation_type","parseFloat","fine_amount","status","enforcer_name","created_at","toLocaleDateString","EnforcersReport","_ref5","_reportData$summary5","_reportData$summary6","_reportData$summary7","_reportData$summary8","log","getEnforcersReport","_error$response2","_error$response3","_error$response4","message","code","_error$response5","_error$response5$data","testDatabase","alert","total_enforcers","avg_collection_rate","enforcers","length","width","height","strokeDasharray","dataKey","tick","fontSize","axisLine","contentStyle","backgroundColor","border","borderRadius","boxShadow","name","radius","enforcer","_enforcer$full_name","full_name","charAt","badge_number","collected_fines","today_violations","month_violations","DailySummaryReport","_ref6","getDailySummary","toISOString","split","_error$response6","_error$response6$data","active_enforcers","avg_violations_per_enforcer","violations_by_type","cx","cy","labelLine","label","_ref7","count","outerRadius","entry","violations_by_enforcer","recent_violations","MonthlyReport","_ref8","getMonthlyReport","year","getFullYear","month","getMonth","_error$response7","_error$response7$data","parseInt","Array","from","_","i","paid_fines","month_name","daily_breakdown","fillOpacity","violations_by_status","_ref9","avg_daily_violations","filter","violations_count","reduce","day","Reports","_reportTypes$find","_reportTypes$find2","activeReport","setActiveReport","lastUpdate","setLastUpdate","isAutoRefresh","setIsAutoRefresh","reportTypes","id","handleReportSelect","now","refreshData","duration","currentReport","setTimeout","interval","setInterval","clearInterval","renderActiveReport","position","checked","report","find","r"],"sources":["C:/Users/Marcelo/OneDrive/Documents/Desktop/e-traffic system/client/src/pages/admin/Reports.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { reportsAPI } from '../../services/api';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { \n  Download, \n  FileText, \n  Users, \n  TrendingUp, \n  Calendar,\n  BarChart3,\n  PieChart,\n  Table,\n  ArrowLeft,\n  AlertCircle\n} from 'lucide-react';\nimport LoadingSpinner from '../../components/LoadingSpinner';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart as RechartsPieChart,\n  Pie,\n  Cell,\n  AreaChart,\n  Area\n} from 'recharts';\n\nconst COLORS = ['#3b82f6', '#ef4444', '#f59e0b', '#22c55e', '#8b5cf6', '#ec4899', '#06b6d4', '#84cc16'];\n\nconst ReportCard = ({ title, description, icon: Icon, onClick, color = 'primary' }) => {\n  // Define static background colors to avoid dynamic class compilation issues\n  const backgroundColors = {\n    primary: 'linear-gradient(135deg, #BFECFF 0%, #E6F7FF 100%)', // Light blue\n    success: 'linear-gradient(135deg, #CDC1FF 0%, #E8DFFF 100%)', // Light purple\n    warning: 'linear-gradient(135deg, #FFE4B5 0%, #FFF2D6 100%)', // Light peach\n    info: 'linear-gradient(135deg, #D4EDDA 0%, #E9F7EF 100%)'      // Light green\n  };\n  \n  const iconColors = {\n    primary: '#3B82F6',   // Blue\n    success: '#8B5CF6',  // Purple\n    warning: '#F59E0B',  // Orange\n    info: '#10B981'      // Green\n  };\n\n  return (\n    <div \n      className=\"group relative overflow-hidden bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 cursor-pointer\"\n      onClick={onClick}\n      style={{ background: backgroundColors[color] || backgroundColors.primary }}\n    >\n      {/* Content */}\n      <div className=\"relative p-8\">\n        <div className=\"flex items-start gap-6\">\n          {/* Icon container */}\n          <div className=\"flex-shrink-0 p-4 rounded-2xl bg-white/20 backdrop-blur-sm group-hover:bg-white/30 transition-all duration-300 border border-white/30\">\n            <Icon className=\"h-8 w-8 transition-colors duration-300\" style={{ color: iconColors[color] || iconColors.primary }} />\n          </div>\n          \n          {/* Text content */}\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-3 group-hover:text-gray-800 transition-colors duration-300\">\n              {title}\n            </h3>\n            <p className=\"text-gray-700 leading-relaxed group-hover:text-gray-800 transition-colors duration-300\">\n              {description}\n            </p>\n          </div>\n          \n          {/* Arrow indicator */}\n          <div className=\"flex-shrink-0 opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-300\">\n            <div className=\"p-2 rounded-full bg-white/30 backdrop-blur-sm\" style={{ color: iconColors[color] || iconColors.primary }}>\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n        \n        {/* Bottom accent line */}\n        <div className=\"absolute bottom-0 left-0 right-0 h-1 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left\" style={{ background: iconColors[color] || iconColors.primary }}></div>\n      </div>\n    </div>\n  );\n};\n\nconst DateRangePicker = ({ startDate, endDate, onStartDateChange, onEndDateChange }) => (\n  <div className=\"flex gap-4 items-center\">\n    <div>\n      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Start Date</label>\n      <input\n        type=\"date\"\n        value={startDate}\n        onChange={(e) => onStartDateChange(e.target.value)}\n        className=\"input\"\n        max={endDate || undefined}\n      />\n    </div>\n    <div>\n      <label className=\"block text-sm font-medium text-gray-700 mb-1\">End Date</label>\n      <input\n        type=\"date\"\n        value={endDate}\n        onChange={(e) => onEndDateChange(e.target.value)}\n        className=\"input\"\n        min={startDate || undefined}\n      />\n    </div>\n  </div>\n);\n\nconst ExportButtons = ({ onExport, reportType, isLoading, hasData }) => (\n  <div className=\"flex gap-2\">\n    <button\n      onClick={() => onExport('json')}\n      disabled={isLoading || !hasData}\n      className=\"btn-secondary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n    >\n      <FileText className=\"h-4 w-4\" />\n      Export JSON\n    </button>\n    <button\n      onClick={() => onExport('csv')}\n      disabled={isLoading || !hasData}\n      className=\"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n    >\n      <Download className=\"h-4 w-4\" />\n      Export CSV\n    </button>\n  </div>\n);\n\nconst ViolationsReport = ({ filters, setFilters }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [reportData, setReportData] = useState(null);\n  const [error, setError] = useState(null);\n  const [lastRefresh, setLastRefresh] = useState(new Date());\n\n  const generateReport = async () => {\n    if (!filters.startDate || !filters.endDate) {\n      setError('Please select both start and end dates');\n      return;\n    }\n    \n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await reportsAPI.getViolationsReport({\n        start_date: filters.startDate,\n        end_date: filters.endDate\n      });\n      \n      if (response.data.success) {\n        setReportData(response.data.data);\n        setLastRefresh(new Date());\n      } else {\n        setError('Failed to generate report');\n      }\n    } catch (error) {\n      console.error('Failed to generate report:', error);\n      setError(error.response?.data?.error || 'Failed to generate report');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const exportReport = (format) => {\n    if (!reportData) return;\n    \n    if (format === 'json') {\n      const dataStr = JSON.stringify(reportData, null, 2);\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(dataBlob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `violations-report-${filters.startDate}-to-${filters.endDate}.json`;\n      link.click();\n      URL.revokeObjectURL(url);\n    } else if (format === 'csv') {\n      // Use server-side CSV export\n      const params = new URLSearchParams({\n        start_date: filters.startDate,\n        end_date: filters.endDate,\n        format: 'csv'\n      });\n      \n      const url = `${process.env.REACT_APP_API_URL || 'http://localhost:5000/api'}/reports/violations?${params}`;\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `violations-report-${filters.startDate}-to-${filters.endDate}.csv`;\n      link.click();\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-xl font-bold text-gray-900\">Violations Report</h2>\n          <p className=\"text-gray-600\">Generate detailed reports on traffic violations</p>\n          <div className=\"mt-2 flex items-center gap-2 text-sm text-gray-500\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n            <span>Live Data</span>\n            <span> Last updated: {lastRefresh.toLocaleTimeString()}</span>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={generateReport}\n            disabled={isLoading}\n            className=\"btn-secondary text-xs px-3 py-1 flex items-center gap-1\"\n          >\n            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n            Refresh\n          </button>\n          <ExportButtons onExport={exportReport} reportType=\"violations\" isLoading={isLoading} hasData={!!reportData} />\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <div className=\"flex\">\n            <AlertCircle className=\"h-5 w-5 text-red-400\" />\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"flex gap-4 items-end mb-4\">\n            <DateRangePicker\n              startDate={filters.startDate}\n              endDate={filters.endDate}\n              onStartDateChange={(date) => setFilters(prev => ({ ...prev, startDate: date }))}\n              onEndDateChange={(date) => setFilters(prev => ({ ...prev, endDate: date }))}\n            />\n            <button\n              onClick={generateReport}\n              disabled={isLoading}\n              className=\"btn-primary\"\n            >\n              {isLoading ? <LoadingSpinner size=\"sm\" /> : 'Generate Report'}\n            </button>\n          </div>\n\n          {reportData && (\n            <div className=\"space-y-6\">\n              {/* Summary Stats */}\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-blue-700 uppercase tracking-wide\">Total Violations</h4>\n                    <div className=\"p-2 bg-blue-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                </div>\n                </div>\n                  <p className=\"text-3xl font-bold text-blue-900\">{reportData.summary?.total_violations || 0}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-blue-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Total recorded</span>\n                </div>\n                </div>\n                \n                <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Total Fines</h4>\n                    <div className=\"p-2 bg-green-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-green-900\">{(reportData.summary?.total_fines || 0).toFixed(2)}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-green-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Amount issued</span>\n                </div>\n              </div>\n\n                <div className=\"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\">Pending Fines</h4>\n                    <div className=\"p-2 bg-yellow-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                  </div>\n                    </div>\n                  <p className=\"text-3xl font-bold text-yellow-900\">{(reportData.summary?.pending_fines || 0).toFixed(2)}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-yellow-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    <span>Awaiting payment</span>\n                  </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-purple-700 uppercase tracking-wide\">Collection Rate</h4>\n                    <div className=\"p-2 bg-purple-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                      </svg>\n                  </div>\n                    </div>\n                  <p className=\"text-3xl font-bold text-purple-900\">{reportData.summary?.collection_rate || 0}%</p>\n                  <div className=\"mt-2 flex items-center text-sm text-purple-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Success rate</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Violations Table */}\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h4 className=\"text-lg font-medium\">Violations Details</h4>\n                </div>\n                <div className=\"card-body\">\n                  <div className=\"overflow-x-auto\">\n                    <table className=\"table\">\n                      <thead className=\"table-header\">\n                        <tr>\n                          <th className=\"table-header-cell\">Violation #</th>\n                          <th className=\"table-header-cell\">Violator</th>\n                          <th className=\"table-header-cell\">Vehicle</th>\n                          <th className=\"table-header-cell\">Type</th>\n                          <th className=\"table-header-cell\">Fine</th>\n                          <th className=\"table-header-cell\">Status</th>\n                          <th className=\"table-header-cell\">Enforcer</th>\n                          <th className=\"table-header-cell\">Date</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"table-body\">\n                        {reportData.violations.map((violation, index) => (\n                          <tr key={index} className=\"table-row\">\n                            <td className=\"table-cell font-mono text-sm\">{violation.violation_number}</td>\n                            <td className=\"table-cell font-medium\">{violation.violator_name}</td>\n                            <td className=\"table-cell\">{violation.vehicle_plate || '-'}</td>\n                            <td className=\"table-cell\">\n                              <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\">\n                                {violation.violation_type}\n                              </span>\n                            </td>\n                            <td className=\"table-cell font-medium\">{parseFloat(violation.fine_amount).toFixed(2)}</td>\n                            <td className=\"table-cell\">\n                              <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                                violation.status === 'paid' ? 'bg-green-100 text-green-800' :\n                                violation.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\n                                'bg-red-100 text-red-800'\n                              }`}>\n                                {violation.status}\n                              </span>\n                            </td>\n                            <td className=\"table-cell\">{violation.enforcer_name}</td>\n                            <td className=\"table-cell text-sm text-gray-500\">\n                              {new Date(violation.created_at).toLocaleDateString()}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst EnforcersReport = ({ filters, setFilters }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [reportData, setReportData] = useState(null);\n  const [error, setError] = useState(null);\n  const [lastRefresh, setLastRefresh] = useState(new Date());\n\n  const generateReport = async () => {\n    if (!filters.startDate || !filters.endDate) {\n      setError('Please select both start and end dates');\n      return;\n    }\n    \n    setIsLoading(true);\n    setError(null);\n    try {\n      console.log('Generating enforcers report with filters:', filters);\n      const response = await reportsAPI.getEnforcersReport({\n        start_date: filters.startDate,\n        end_date: filters.endDate\n      });\n      \n      console.log('Enforcers report response:', response);\n      \n      if (response.data.success) {\n        setReportData(response.data.data);\n        setLastRefresh(new Date());\n        console.log('Enforcers report data set:', response.data.data);\n      } else {\n        setError('Failed to generate report');\n      }\n    } catch (error) {\n      console.error('Failed to generate enforcers report:', error);\n      console.error('Error response:', error.response);\n      console.error('Error message:', error.message);\n      \n      if (error.response?.status === 500) {\n        setError('Server error: Database connection or query failed');\n      } else if (error.response?.status === 404) {\n        setError('Report endpoint not found');\n      } else if (error.response?.status === 401) {\n        setError('Authentication failed. Please login again.');\n      } else if (error.code === 'ERR_NETWORK') {\n        setError('Network error: Cannot connect to server');\n      } else {\n        setError(error.response?.data?.error || error.message || 'Failed to generate report');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const exportReport = (format) => {\n    if (!reportData) return;\n    \n    if (format === 'json') {\n      const dataStr = JSON.stringify(reportData, null, 2);\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\n      const url = URL.createObjectURL(dataBlob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `enforcers-report-${filters.startDate}-to-${filters.endDate}.json`;\n      link.click();\n      URL.revokeObjectURL(url);\n    } else if (format === 'csv') {\n      const params = new URLSearchParams({\n        start_date: filters.startDate,\n        end_date: filters.endDate,\n        format: 'csv'\n      });\n      \n      const url = `${process.env.REACT_APP_API_URL || 'http://localhost:5000/api'}/reports/enforcers?${params}`;\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `enforcers-report-${filters.startDate}-to-${filters.endDate}.csv`;\n      link.click();\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-xl font-bold text-gray-900\">Enforcers Performance Report</h2>\n          <p className=\"text-gray-600\">Track enforcer productivity and performance metrics</p>\n          <div className=\"mt-2 flex items-center gap-2 text-sm text-gray-500\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n            <span>Live Data</span>\n            <span> Last updated: {lastRefresh.toLocaleTimeString()}</span>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={async () => {\n              try {\n                const response = await reportsAPI.testDatabase();\n                console.log('Database test response:', response.data);\n                alert(`Database Status: ${JSON.stringify(response.data.data, null, 2)}`);\n              } catch (error) {\n                console.error('Database test failed:', error);\n                alert(`Database test failed: ${error.message}`);\n              }\n            }}\n            className=\"btn-secondary text-xs px-3 py-1\"\n          >\n            Test DB\n          </button>\n          <button\n            onClick={generateReport}\n            disabled={isLoading}\n            className=\"btn-secondary text-xs px-3 py-1 flex items-center gap-1\"\n          >\n            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n            Refresh\n          </button>\n          <ExportButtons onExport={exportReport} reportType=\"enforcers\" isLoading={isLoading} hasData={!!reportData} />\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <div className=\"flex\">\n            <AlertCircle className=\"h-5 w-5 text-red-400\" />\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"flex gap-4 items-end mb-4\">\n            <DateRangePicker\n              startDate={filters.startDate}\n              endDate={filters.endDate}\n              onStartDateChange={(date) => setFilters(prev => ({ ...prev, startDate: date }))}\n              onEndDateChange={(date) => setFilters(prev => ({ ...prev, endDate: date }))}\n            />\n            <button\n              onClick={generateReport}\n              disabled={isLoading}\n              className=\"btn-primary\"\n            >\n              {isLoading ? <LoadingSpinner size=\"sm\" /> : 'Generate Report'}\n            </button>\n          </div>\n\n          {reportData && (\n            <div className=\"space-y-6\">\n              {/* Summary Stats */}\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-blue-700 uppercase tracking-wide\">Total Enforcers</h4>\n                    <div className=\"p-2 bg-blue-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-blue-900\">{reportData.summary?.total_enforcers || 0}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-blue-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Active personnel</span>\n                  </div>\n                </div>\n                \n                <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Total Violations</h4>\n                    <div className=\"p-2 bg-green-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-green-900\">{reportData.summary?.total_violations || 0}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-green-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Total recorded</span>\n                  </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\">Total Fines</h4>\n                    <div className=\"p-2 bg-yellow-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-yellow-900\">{(reportData.summary?.total_fines || 0).toFixed(2)}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-yellow-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Amount issued</span>\n                  </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-purple-700 uppercase tracking-wide\">Collection Rate</h4>\n                    <div className=\"p-2 bg-purple-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-purple-900\">{reportData.summary?.avg_collection_rate || 0}%</p>\n                  <div className=\"mt-2 flex items-center text-sm text-purple-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Success rate</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Check if there are enforcers with data */}\n              {(!reportData.enforcers || reportData.enforcers.length === 0) ? (\n                <div className=\"text-center py-12\">\n                  <div className=\"text-gray-500\">\n                    <Users className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Enforcer Data Found</h3>\n                    <p className=\"text-gray-500 mb-4\">\n                      {reportData.message || 'No enforcers found for the selected date range, or no violations have been recorded yet.'}\n                    </p>\n                    <div className=\"text-sm text-gray-400\">\n                      <p> Try selecting a different date range</p>\n                      <p> Check if there are any enforcers in the system</p>\n                      <p> Verify that violations exist for the selected period</p>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                <>\n              {/* Performance Chart */}\n                  <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n                    <div className=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\">\n                      <h4 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n                        <BarChart3 className=\"h-5 w-5 text-primary-600\" />\n                        Enforcer Performance Comparison\n                      </h4>\n                      <p className=\"text-sm text-gray-600 mt-1\">Visual comparison of violations issued and fines collected</p>\n                    </div>\n                    <div className=\"p-6\">\n                      <div className=\"h-80\">\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                          <BarChart data={reportData.enforcers}>\n                            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f1f5f9\" />\n                            <XAxis \n                              dataKey=\"full_name\" \n                              tick={{ fontSize: 12, fill: '#64748b' }}\n                              axisLine={{ stroke: '#e2e8f0' }}\n                            />\n                            <YAxis \n                              tick={{ fontSize: 12, fill: '#64748b' }}\n                              axisLine={{ stroke: '#e2e8f0' }}\n                            />\n                            <Tooltip \n                              contentStyle={{\n                                backgroundColor: 'white',\n                                border: '1px solid #e2e8f0',\n                                borderRadius: '8px',\n                                boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\n                              }}\n                            />\n                            <Bar \n                              dataKey=\"total_violations\" \n                              fill=\"#3b82f6\" \n                              name=\"Violations Issued\"\n                              radius={[4, 4, 0, 0]}\n                            />\n                            <Bar \n                              dataKey=\"collected_fines\" \n                              fill=\"#10b981\" \n                              name=\"Fines Collected\"\n                              radius={[4, 4, 0, 0]}\n                            />\n                          </BarChart>\n                        </ResponsiveContainer>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Performance Table */}\n                  <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n                    <div className=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\">\n                      <h4 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n                        <Table className=\"h-5 w-5 text-primary-600\" />\n                        Detailed Performance\n                      </h4>\n                      <p className=\"text-sm text-gray-600 mt-1\">Comprehensive breakdown of individual enforcer metrics</p>\n                    </div>\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"w-full\">\n                        <thead className=\"bg-gray-50\">\n                          <tr>\n                            <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\">\n                              Enforcer\n                            </th>\n                            <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\">\n                              Badge #\n                            </th>\n                            <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\">\n                              Violations\n                            </th>\n                            <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\">\n                              Total Fines\n                            </th>\n                            <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\">\n                              Collected\n                            </th>\n                            <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\">\n                              Collection Rate\n                            </th>\n                            <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\">\n                              Today\n                            </th>\n                            <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider border-b border-gray-200\">\n                              This Month\n                            </th>\n                          </tr>\n                        </thead>\n                        <tbody className=\"bg-white divide-y divide-gray-100\">\n                          {reportData.enforcers.map((enforcer, index) => (\n                            <tr key={index} className=\"hover:bg-gray-50 transition-colors duration-150\">\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <div className=\"flex items-center\">\n                                  <div className=\"flex-shrink-0 h-8 w-8\">\n                                    <div className=\"h-8 w-8 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center\">\n                                      <span className=\"text-sm font-medium text-primary-700\">\n                                        {enforcer.full_name?.charAt(0) || 'U'}\n                                      </span>\n                                    </div>\n                                  </div>\n                                  <div className=\"ml-3\">\n                                    <div className=\"text-sm font-medium text-gray-900\">{enforcer.full_name || 'Unknown'}</div>\n                                  </div>\n                                </div>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 font-mono\">\n                                  {enforcer.badge_number || '-'}\n                                </span>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium\">\n                                {enforcer.total_violations || 0}\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium\">\n                                {(enforcer.total_fines || 0).toFixed(2)}\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium\">\n                                {(enforcer.collected_fines || 0).toFixed(2)}\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\n                                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold ${\n                                  (enforcer.collection_rate || 0) >= 80 ? 'bg-green-100 text-green-800' :\n                                  (enforcer.collection_rate || 0) >= 60 ? 'bg-yellow-100 text-yellow-800' :\n                                  'bg-red-100 text-red-800'\n                                }`}>\n                                  {(enforcer.collection_rate || 0).toFixed(1)}%\n                                </span>\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                {enforcer.today_violations || 0}\n                              </td>\n                              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                {enforcer.month_violations || 0}\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst DailySummaryReport = ({ filters, setFilters }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [reportData, setReportData] = useState(null);\n  const [error, setError] = useState(null);\n\n  const generateReport = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await reportsAPI.getDailySummary({\n        date: filters.date || new Date().toISOString().split('T')[0]\n      });\n      \n      if (response.data.success) {\n        setReportData(response.data.data);\n      } else {\n        setError('Failed to generate report');\n      }\n    } catch (error) {\n      console.error('Failed to generate report:', error);\n      setError(error.response?.data?.error || 'Failed to generate report');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-xl font-bold text-gray-900\">Daily Summary Report</h2>\n          <p className=\"text-gray-600\">Quick overview of daily activities and key metrics</p>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <div className=\"flex\">\n            <AlertCircle className=\"h-5 w-5 text-red-400\" />\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"flex gap-4 items-end mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date</label>\n              <input\n                type=\"date\"\n                value={filters.date || new Date().toISOString().split('T')[0]}\n                onChange={(e) => setFilters(prev => ({ ...prev, date: e.target.value }))}\n                className=\"input\"\n                max={new Date().toISOString().split('T')[0]}\n              />\n            </div>\n            <button\n              onClick={generateReport}\n              disabled={isLoading}\n              className=\"btn-primary\"\n            >\n              {isLoading ? <LoadingSpinner size=\"sm\" /> : 'Generate Report'}\n            </button>\n          </div>\n\n          {reportData && (\n            <div className=\"space-y-6\">\n              {/* Summary Stats */}\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-blue-700 uppercase tracking-wide\">Total Violations</h4>\n                    <div className=\"p-2 bg-blue-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-blue-900\">{reportData.summary.total_violations}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-blue-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Total recorded</span>\n                  </div>\n                </div>\n                \n                <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Total Fines</h4>\n                    <div className=\"p-2 bg-green-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-green-900\">{reportData.summary.total_fines.toFixed(2)}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-green-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Amount issued</span>\n                  </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\">Active Enforcers</h4>\n                    <div className=\"p-2 bg-yellow-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-yellow-900\">{reportData.summary.active_enforcers}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-yellow-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>On duty today</span>\n                  </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-purple-700 uppercase tracking-wide\">Avg per Enforcer</h4>\n                    <div className=\"p-2 bg-purple-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-purple-900\">{reportData.summary.avg_violations_per_enforcer}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-purple-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Per person</span>\n                  </div>\n                </div>\n              </div>\n\n                            {/* Violations by Type Chart */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n                  <div className=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\">\n                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n                      <PieChart className=\"h-5 w-5 text-primary-600\" />\n                      Violations by Type\n                    </h4>\n                    <p className=\"text-sm text-gray-600 mt-1\">Distribution of violation categories</p>\n                  </div>\n                  <div className=\"p-6\">\n                    <div className=\"h-64\">\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <RechartsPieChart>\n                          <Pie\n                            data={reportData.violations_by_type}\n                            cx=\"50%\"\n                            cy=\"50%\"\n                            labelLine={false}\n                            label={({ violation_type, count }) => `${violation_type}: ${count}`}\n                            outerRadius={80}\n                            fill=\"#8884d8\"\n                            dataKey=\"count\"\n                          >\n                            {reportData.violations_by_type.map((entry, index) => (\n                              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                            ))}\n                          </Pie>\n                          <Tooltip />\n                        </RechartsPieChart>\n                      </ResponsiveContainer>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n                  <div className=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\">\n                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n                      <BarChart3 className=\"h-5 w-5 text-primary-600\" />\n                      Enforcer Activity\n                    </h4>\n                    <p className=\"text-sm text-gray-600 mt-1\">Individual enforcer performance</p>\n                  </div>\n                  <div className=\"p-6\">\n                    <div className=\"h-64\">\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <BarChart data={reportData.violations_by_enforcer}>\n                          <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f1f5f9\" />\n                          <XAxis \n                            dataKey=\"full_name\" \n                            tick={{ fontSize: 12, fill: '#64748b' }}\n                            axisLine={{ stroke: '#e2e8f0' }}\n                          />\n                          <YAxis \n                            tick={{ fontSize: 12, fill: '#64748b' }}\n                            axisLine={{ stroke: '#e2e8f0' }}\n                          />\n                          <Tooltip \n                            contentStyle={{\n                              backgroundColor: 'white',\n                              border: '1px solid #e2e8f0',\n                              borderRadius: '8px',\n                              boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\n                            }}\n                          />\n                          <Bar \n                            dataKey=\"violations_count\" \n                            fill=\"#3b82f6\" \n                            name=\"Violations\"\n                            radius={[4, 4, 0, 0]}\n                          />\n                        </BarChart>\n                      </ResponsiveContainer>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Recent Violations */}\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h4 className=\"text-lg font-medium\">Recent Violations</h4>\n                </div>\n                <div className=\"card-body\">\n                  <div className=\"overflow-x-auto\">\n                    <table className=\"table\">\n                      <thead className=\"table-header\">\n                        <tr>\n                          <th className=\"table-header-cell\">Time</th>\n                          <th className=\"table-header-cell\">Violator</th>\n                          <th className=\"table-header-cell\">Type</th>\n                          <th className=\"table-header-cell\">Fine</th>\n                          <th className=\"table-header-cell\">Enforcer</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"table-body\">\n                        {reportData.recent_violations.map((violation, index) => (\n                          <tr key={index} className=\"table-row\">\n                            <td className=\"table-cell text-sm text-gray-500\">\n                              {new Date(violation.created_at).toLocaleTimeString()}\n                            </td>\n                            <td className=\"table-cell font-medium\">{violation.violator_name}</td>\n                            <td className=\"table-cell\">\n                              <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\">\n                                {violation.violation_type}\n                              </span>\n                            </td>\n                            <td className=\"table-cell font-medium\">{parseFloat(violation.fine_amount).toFixed(2)}</td>\n                            <td className=\"table-cell\">{violation.enforcer_name}</td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst MonthlyReport = ({ filters, setFilters }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [reportData, setReportData] = useState(null);\n  const [error, setError] = useState(null);\n\n  const generateReport = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await reportsAPI.getMonthlyReport({\n        year: filters.year || new Date().getFullYear(),\n        month: filters.month || new Date().getMonth() + 1\n      });\n      \n      if (response.data.success) {\n        setReportData(response.data.data);\n      } else {\n        setError('Failed to generate report');\n      }\n    } catch (error) {\n      console.error('Failed to generate report:', error);\n      setError(error.response?.data?.error || 'Failed to generate report');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h2 className=\"text-xl font-bold text-gray-900\">Monthly Analysis Report</h2>\n          <p className=\"text-gray-600\">Monthly trends and comparative analysis</p>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <div className=\"flex\">\n            <AlertCircle className=\"h-5 w-5 text-red-400\" />\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <div className=\"flex gap-4 items-end mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Year</label>\n              <select\n                value={filters.year || new Date().getFullYear()}\n                onChange={(e) => setFilters(prev => ({ ...prev, year: parseInt(e.target.value) }))}\n                className=\"input\"\n              >\n                {Array.from({ length: 5 }, (_, i) => new Date().getFullYear() - i).map(year => (\n                  <option key={year} value={year}>{year}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Month</label>\n              <select\n                value={filters.month || new Date().getMonth() + 1}\n                onChange={(e) => setFilters(prev => ({ ...prev, month: parseInt(e.target.value) }))}\n                className=\"input\"\n              >\n                {Array.from({ length: 12 }, (_, i) => i + 1).map(month => (\n                  <option key={month} value={month}>\n                    {new Date(2000, month - 1).toLocaleDateString('en-US', { month: 'long' })}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <button\n              onClick={generateReport}\n              disabled={isLoading}\n              className=\"btn-primary\"\n            >\n              {isLoading ? <LoadingSpinner size=\"sm\" /> : 'Generate Report'}\n            </button>\n          </div>\n\n          {reportData && (\n            <div className=\"space-y-6\">\n              {/* Summary Stats */}\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-blue-700 uppercase tracking-wide\">Total Violations</h4>\n                    <div className=\"p-2 bg-blue-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-blue-900\">{reportData.summary.total_violations}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-blue-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Total recorded</span>\n                  </div>\n                </div>\n                \n                <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Total Fines</h4>\n                    <div className=\"p-2 bg-green-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-green-900\">{reportData.summary.total_fines.toFixed(2)}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-green-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Amount issued</span>\n                  </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\">Paid Fines</h4>\n                    <div className=\"p-2 bg-yellow-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-yellow-900\">{reportData.summary.paid_fines.toFixed(2)}</p>\n                  <div className=\"mt-2 flex items-center text-sm text-yellow-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Successfully collected</span>\n                  </div>\n                </div>\n\n                <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border border-purple-200 shadow-sm hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"text-sm font-semibold text-purple-700 uppercase tracking-wide\">Collection Rate</h4>\n                    <div className=\"p-2 bg-purple-200 rounded-lg\">\n                      <svg className=\"w-4 h-4 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <p className=\"text-3xl font-bold text-purple-900\">{reportData.summary.collection_rate}%</p>\n                  <div className=\"mt-2 flex items-center text-sm text-purple-600\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                    </svg>\n                    <span>Success rate</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Daily Trend Chart */}\n              <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n                <div className=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\">\n                  <h4 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n                    <TrendingUp className=\"h-5 w-5 text-primary-600\" />\n                    Daily Violations Trend - {reportData.month_name}\n                  </h4>\n                  <p className=\"text-sm text-gray-600 mt-1\">Daily violation patterns throughout the month</p>\n                </div>\n                <div className=\"p-6\">\n                  <div className=\"h-64\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <AreaChart data={reportData.daily_breakdown}>\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f1f5f9\" />\n                        <XAxis \n                          dataKey=\"date\" \n                          tick={{ fontSize: 12, fill: '#64748b' }}\n                          axisLine={{ stroke: '#e2e8f0' }}\n                        />\n                        <YAxis \n                          tick={{ fontSize: 12, fill: '#64748b' }}\n                          axisLine={{ stroke: '#e2e8f0' }}\n                        />\n                        <Tooltip \n                          contentStyle={{\n                            backgroundColor: 'white',\n                            border: '1px solid #e2e8f0',\n                            borderRadius: '8px',\n                            boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\n                          }}\n                        />\n                        <Area \n                          type=\"monotone\" \n                          dataKey=\"violations_count\" \n                          stroke=\"#3b82f6\" \n                          fill=\"#3b82f6\" \n                          fillOpacity={0.3} \n                        />\n                      </AreaChart>\n                    </ResponsiveContainer>\n                  </div>\n                </div>\n              </div>\n\n              {/* Status Breakdown */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n                  <div className=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\">\n                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n                      <PieChart className=\"h-5 w-5 text-primary-600\" />\n                      Violations by Status\n                    </h4>\n                    <p className=\"text-sm text-gray-600 mt-1\">Payment status distribution</p>\n                  </div>\n                  <div className=\"p-6\">\n                    <div className=\"h-64\">\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <RechartsPieChart>\n                          <Pie\n                            data={reportData.violations_by_status}\n                            cx=\"50%\"\n                            cy=\"50%\"\n                            labelLine={false}\n                            label={({ status, count }) => `${status}: ${count}`}\n                            outerRadius={80}\n                            fill=\"#8884d8\"\n                            dataKey=\"count\"\n                          >\n                            {reportData.violations_by_status.map((entry, index) => (\n                              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                            ))}\n                          </Pie>\n                          <Tooltip />\n                        </RechartsPieChart>\n                      </ResponsiveContainer>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden\">\n                  <div className=\"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-gray-100\">\n                    <h4 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n                      <Table className=\"h-5 w-5 text-primary-600\" />\n                      Monthly Summary\n                    </h4>\n                    <p className=\"text-sm text-gray-600 mt-1\">Key performance indicators</p>\n                  </div>\n                  <div className=\"p-6\">\n                    <div className=\"space-y-4\">\n                      <div className=\"flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl border border-blue-200\">\n                        <span className=\"text-sm font-semibold text-blue-700 uppercase tracking-wide\">Average Daily Violations</span>\n                        <span className=\"text-2xl font-bold text-blue-900\">{reportData.summary.avg_daily_violations}</span>\n                      </div>\n                      <div className=\"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl border border-green-200\">\n                        <span className=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Days with Violations</span>\n                        <span className=\"text-2xl font-bold text-green-900\">{reportData.daily_breakdown.filter(d => d.violations_count > 0).length}</span>\n                      </div>\n                      <div className=\"flex justify-between items-center p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl border border-purple-200\">\n                        <span className=\"text-sm font-semibold text-purple-700 uppercase tracking-wide\">Peak Day</span>\n                        <span className=\"text-2xl font-bold text-purple-900\">\n                          {reportData.daily_breakdown.reduce((max, day) => \n                            day.violations_count > max.violations_count ? day : max\n                          , { violations_count: 0 }).date}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Reports = () => {\n  const [activeReport, setActiveReport] = useState(null);\n  const [filters, setFilters] = useState({\n    startDate: '',\n    endDate: '',\n    date: new Date().toISOString().split('T')[0],\n    year: new Date().getFullYear(),\n    month: new Date().getMonth() + 1\n  });\n  const [lastUpdate, setLastUpdate] = useState(new Date());\n  const [isAutoRefresh, setIsAutoRefresh] = useState(true);\n\n  const reportTypes = [\n    {\n      id: 'violations',\n      title: 'Violations Report',\n      description: 'Comprehensive analysis of traffic violations with trends and statistics',\n      icon: FileText,\n      color: 'primary'\n    },\n    {\n      id: 'enforcers',\n      title: 'Enforcers Performance',\n      description: 'Track enforcer productivity and performance metrics',\n      icon: Users,\n      color: 'success'\n    },\n    {\n      id: 'daily-summary',\n      title: 'Daily Summary',\n      description: 'Quick overview of daily activities and key metrics',\n      icon: Calendar,\n      color: 'warning'\n    },\n    {\n      id: 'monthly',\n      title: 'Monthly Analysis',\n      description: 'Monthly trends and comparative analysis',\n      icon: TrendingUp,\n      color: 'info'\n    }\n  ];\n\n  const handleReportSelect = (reportType) => {\n    setActiveReport(reportType);\n    // Set default date range to last 30 days for date-based reports\n    if (reportType === 'violations' || reportType === 'enforcers') {\n      const endDate = new Date().toISOString().split('T')[0];\n      const startDate = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n      setFilters(prev => ({ ...prev, startDate, endDate }));\n    }\n  };\n\n  // Auto-refresh function\n  const refreshData = useCallback(() => {\n    setLastUpdate(new Date());\n    toast.success('Data refreshed successfully!', { duration: 2000 });\n    // Force re-render of active report\n    if (activeReport) {\n      // This will trigger the report components to refresh their data\n      const currentReport = activeReport;\n      setActiveReport(null);\n      setTimeout(() => setActiveReport(currentReport), 100);\n    }\n  }, [activeReport]);\n\n  // Auto-refresh effect\n  useEffect(() => {\n    if (!isAutoRefresh) return;\n\n    const interval = setInterval(() => {\n      refreshData();\n      // Check for new violations and show notification\n      toast.success(' Auto-refreshing data...', { duration: 1500 });\n    }, 30000); // Refresh every 30 seconds\n\n    return () => clearInterval(interval);\n  }, [isAutoRefresh, refreshData]);\n\n  const renderActiveReport = () => {\n    switch (activeReport) {\n      case 'violations':\n        return <ViolationsReport filters={filters} setFilters={setFilters} />;\n      case 'enforcers':\n        return <EnforcersReport filters={filters} setFilters={setFilters} />;\n      case 'daily-summary':\n        return <DailySummaryReport filters={filters} setFilters={setFilters} />;\n      case 'monthly':\n        return <MonthlyReport filters={filters} setFilters={setFilters} />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      <Toaster position=\"top-right\" />\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-primary-50 to-blue-50 rounded-2xl p-8 border border-primary-100\">\n        <div className=\"max-w-4xl\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-3\">Reports & Analytics</h1>\n          <p className=\"text-lg text-gray-600 leading-relaxed\">\n            Generate comprehensive reports and analyze system performance with detailed insights and visualizations\n          </p>\n          <div className=\"mt-4 flex items-center justify-between\">\n            <div className=\"flex items-center gap-2 text-sm text-primary-600\">\n              <div className=\"w-2 h-2 bg-primary-500 rounded-full animate-pulse\"></div>\n              <span>Real-time data updates</span>\n              <span className=\"text-xs text-gray-500\"> Last updated: {lastUpdate.toLocaleTimeString()}</span>\n              <span className=\"text-xs text-green-600\"> Auto-refresh: {isAutoRefresh ? 'ON' : 'OFF'}</span>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <button\n                onClick={refreshData}\n                className=\"btn-secondary text-sm px-3 py-1 flex items-center gap-2\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                </svg>\n                Refresh Now\n              </button>\n              <label className=\"flex items-center gap-2 text-sm text-gray-600\">\n                <input\n                  type=\"checkbox\"\n                  checked={isAutoRefresh}\n                  onChange={(e) => setIsAutoRefresh(e.target.checked)}\n                  className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\n                />\n                Auto-refresh\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {!activeReport ? (\n        /* Report Selection Grid */\n        <div className=\"space-y-6\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-2xl font-semibold text-gray-800 mb-2\">Choose Your Report Type</h2>\n            <p className=\"text-gray-500\">Select from our comprehensive suite of analytical reports</p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          {reportTypes.map((report) => (\n            <ReportCard\n              key={report.id}\n              title={report.title}\n              description={report.description}\n              icon={report.icon}\n              color={report.color}\n              onClick={() => handleReportSelect(report.id)}\n            />\n          ))}\n          </div>\n        </div>\n      ) : (\n        /* Active Report View */\n        <div className=\"space-y-6\">\n          <div className=\"flex items-center justify-between bg-white rounded-xl p-6 shadow-sm border border-gray-100\">\n            <div className=\"flex items-center gap-4\">\n            <button\n              onClick={() => setActiveReport(null)}\n                className=\"btn-secondary flex items-center gap-2 hover:bg-gray-50 transition-colors\"\n            >\n                <ArrowLeft className=\"h-4 w-4\" />\n              Back to Reports\n            </button>\n              <div className=\"h-6 w-px bg-gray-200\"></div>\n              <div>\n                <h2 className=\"text-xl font-semibold text-gray-900\">\n                  {reportTypes.find(r => r.id === activeReport)?.title}\n                </h2>\n                <p className=\"text-sm text-gray-500\">\n                  {reportTypes.find(r => r.id === activeReport)?.description}\n                </p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n              <span>Live Data</span>\n              <span className=\"text-xs\"> Updated: {lastUpdate.toLocaleTimeString()}</span>\n            </div>\n          </div>\n          {renderActiveReport()}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Reports;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}